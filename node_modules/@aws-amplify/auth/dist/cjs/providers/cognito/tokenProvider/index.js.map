{"version":3,"file":"index.js","sources":["../../../../../src/providers/cognito/tokenProvider/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.refreshAuthTokens = exports.TokenOrchestrator = exports.DefaultTokenStore = exports.tokenOrchestrator = exports.cognitoUserPoolsTokenProvider = void 0;\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst core_1 = require(\"@aws-amplify/core\");\nconst refreshAuthTokens_1 = require(\"../utils/refreshAuthTokens\");\nObject.defineProperty(exports, \"refreshAuthTokens\", { enumerable: true, get: function () { return refreshAuthTokens_1.refreshAuthTokens; } });\nconst TokenStore_1 = require(\"./TokenStore\");\nObject.defineProperty(exports, \"DefaultTokenStore\", { enumerable: true, get: function () { return TokenStore_1.DefaultTokenStore; } });\nconst TokenOrchestrator_1 = require(\"./TokenOrchestrator\");\nObject.defineProperty(exports, \"TokenOrchestrator\", { enumerable: true, get: function () { return TokenOrchestrator_1.TokenOrchestrator; } });\nclass CognitoUserPoolsTokenProviderClass {\n    constructor() {\n        this.authTokenStore = new TokenStore_1.DefaultTokenStore();\n        this.authTokenStore.setKeyValueStorage(core_1.defaultStorage);\n        this.tokenOrchestrator = new TokenOrchestrator_1.TokenOrchestrator();\n        this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore);\n        this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens_1.refreshAuthTokens);\n    }\n    getTokens({ forceRefresh } = { forceRefresh: false }) {\n        return this.tokenOrchestrator.getTokens({ forceRefresh });\n    }\n    setKeyValueStorage(keyValueStorage) {\n        this.authTokenStore.setKeyValueStorage(keyValueStorage);\n    }\n    setWaitForInflightOAuth(waitForInflightOAuth) {\n        this.tokenOrchestrator.setWaitForInflightOAuth(waitForInflightOAuth);\n    }\n    setAuthConfig(authConfig) {\n        this.authTokenStore.setAuthConfig(authConfig);\n        this.tokenOrchestrator.setAuthConfig(authConfig);\n    }\n}\nexports.cognitoUserPoolsTokenProvider = new CognitoUserPoolsTokenProviderClass();\nexports.tokenOrchestrator = exports.cognitoUserPoolsTokenProvider.tokenOrchestrator;\n"],"names":[],"mappings":";;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,6BAA6B,GAAG,KAAK,CAAC,CAAC;AAC/J;AACA;AACA,MAAM,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC5C,MAAM,mBAAmB,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;AAClE,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,mBAAmB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,mBAAmB,CAAC,iBAAiB,CAAC,EAAE,EAAE,CAAC,CAAC;AAC9I,MAAM,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC7C,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,mBAAmB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,YAAY,CAAC,iBAAiB,CAAC,EAAE,EAAE,CAAC,CAAC;AACvI,MAAM,mBAAmB,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AAC3D,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,mBAAmB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,mBAAmB,CAAC,iBAAiB,CAAC,EAAE,EAAE,CAAC,CAAC;AAC9I,MAAM,kCAAkC,CAAC;AACzC,IAAI,WAAW,GAAG;AAClB,QAAQ,IAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,iBAAiB,EAAE,CAAC;AACnE,QAAQ,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,iBAAiB,GAAG,IAAI,mBAAmB,CAAC,iBAAiB,EAAE,CAAC;AAC7E,QAAQ,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,CAAC;AACxF,KAAK;AACL,IAAI,SAAS,CAAC,EAAE,YAAY,EAAE,GAAG,EAAE,YAAY,EAAE,KAAK,EAAE,EAAE;AAC1D,QAAQ,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC;AAClE,KAAK;AACL,IAAI,kBAAkB,CAAC,eAAe,EAAE;AACxC,QAAQ,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;AAChE,KAAK;AACL,IAAI,uBAAuB,CAAC,oBAAoB,EAAE;AAClD,QAAQ,IAAI,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,CAAC;AAC7E,KAAK;AACL,IAAI,aAAa,CAAC,UAAU,EAAE;AAC9B,QAAQ,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AACtD,QAAQ,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AACzD,KAAK;AACL,CAAC;AACD,OAAO,CAAC,6BAA6B,GAAG,IAAI,kCAAkC,EAAE,CAAC;AACjF,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,6BAA6B,CAAC,iBAAiB;;"}