{"ast":null,"code":"import { invalidOriginException, invalidRedirectException } from '../../../../errors/constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/** @internal */\nfunction getRedirectUrl(redirects) {\n  var _redirects$find, _redirects$find2;\n  const redirectUrlFromTheSameOrigin = (_redirects$find = redirects === null || redirects === void 0 ? void 0 : redirects.find(isSameOriginAndPathName)) !== null && _redirects$find !== void 0 ? _redirects$find : redirects === null || redirects === void 0 ? void 0 : redirects.find(isTheSameDomain);\n  const redirectUrlFromDifferentOrigin = (_redirects$find2 = redirects === null || redirects === void 0 ? void 0 : redirects.find(isHttps)) !== null && _redirects$find2 !== void 0 ? _redirects$find2 : redirects === null || redirects === void 0 ? void 0 : redirects.find(isHttp);\n  if (redirectUrlFromTheSameOrigin) {\n    return redirectUrlFromTheSameOrigin;\n  } else if (redirectUrlFromDifferentOrigin) {\n    throw invalidOriginException;\n  }\n  throw invalidRedirectException;\n}\n// origin + pathname => https://example.com/app\nconst isSameOriginAndPathName = redirect => {\n  var _ref;\n  return redirect.startsWith(String((_ref = window.location.origin + window.location.pathname) !== null && _ref !== void 0 ? _ref : '/'));\n};\n// domain => outlook.live.com, github.com\nconst isTheSameDomain = redirect => redirect.includes(String(window.location.hostname));\nconst isHttp = redirect => redirect.startsWith('http://');\nconst isHttps = redirect => redirect.startsWith('https://');\nexport { getRedirectUrl };","map":{"version":3,"names":["getRedirectUrl","redirects","_redirects$find","_redirects$find2","redirectUrlFromTheSameOrigin","find","isSameOriginAndPathName","isTheSameDomain","redirectUrlFromDifferentOrigin","isHttps","isHttp","invalidOriginException","invalidRedirectException","redirect","_ref","startsWith","String","window","location","origin","pathname","includes","hostname"],"sources":["/Users/sarimyun/react-native-app/room821_homepage/room821_homepage/node_modules/@aws-amplify/auth/src/providers/cognito/utils/oauth/getRedirectUrl.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { invalidOriginException, invalidRedirectException, } from '../../../../errors/constants';\n/** @internal */\nexport function getRedirectUrl(redirects) {\n    const redirectUrlFromTheSameOrigin = redirects?.find(isSameOriginAndPathName) ??\n        redirects?.find(isTheSameDomain);\n    const redirectUrlFromDifferentOrigin = redirects?.find(isHttps) ?? redirects?.find(isHttp);\n    if (redirectUrlFromTheSameOrigin) {\n        return redirectUrlFromTheSameOrigin;\n    }\n    else if (redirectUrlFromDifferentOrigin) {\n        throw invalidOriginException;\n    }\n    throw invalidRedirectException;\n}\n// origin + pathname => https://example.com/app\nconst isSameOriginAndPathName = (redirect) => redirect.startsWith(String(window.location.origin + window.location.pathname ?? '/'));\n// domain => outlook.live.com, github.com\nconst isTheSameDomain = (redirect) => redirect.includes(String(window.location.hostname));\nconst isHttp = (redirect) => redirect.startsWith('http://');\nconst isHttps = (redirect) => redirect.startsWith('https://');\n"],"mappings":";;AAAA;AACA;AAEA;AACO,SAASA,cAAcA,CAACC,SAAS,EAAE;EAAA,IAAAC,eAAA,EAAAC,gBAAA;EACtC,MAAMC,4BAA4B,IAAAF,eAAA,GAAGD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,IAAI,CAACC,uBAAuB,CAAC,cAAAJ,eAAA,cAAAA,eAAA,GACzED,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,IAAI,CAACE,eAAe,CAAC;EACpC,MAAMC,8BAA8B,IAAAL,gBAAA,GAAGF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,IAAI,CAACI,OAAO,CAAC,cAAAN,gBAAA,cAAAA,gBAAA,GAAIF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,IAAI,CAACK,MAAM,CAAC;EAC1F,IAAIN,4BAA4B,EAAE;IAC9B,OAAOA,4BAA4B;EAC3C,CAAK,MACI,IAAII,8BAA8B,EAAE;IACrC,MAAMG,sBAAsB;EACpC;EACI,MAAMC,wBAAwB;AAClC;AACA;AACA,MAAMN,uBAAuB,GAAIO,QAAQ;EAAA,IAAAC,IAAA;EAAA,OAAKD,QAAQ,CAACE,UAAU,CAACC,MAAM,EAAAF,IAAA,GAACG,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGF,MAAM,CAACC,QAAQ,CAACE,QAAQ,cAAAN,IAAA,cAAAA,IAAA,GAAI,GAAG,CAAC,CAAC;AAAA;AACnI;AACA,MAAMP,eAAe,GAAIM,QAAQ,IAAKA,QAAQ,CAACQ,QAAQ,CAACL,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACI,QAAQ,CAAC,CAAC;AACzF,MAAMZ,MAAM,GAAIG,QAAQ,IAAKA,QAAQ,CAACE,UAAU,CAAC,SAAS,CAAC;AAC3D,MAAMN,OAAO,GAAII,QAAQ,IAAKA,QAAQ,CAACE,UAAU,CAAC,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}