{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nconst userAgentMiddleware = _ref => {\n  let {\n    userAgentHeader = 'x-amz-user-agent',\n    userAgentValue = ''\n  } = _ref;\n  return next => {\n    return async function userAgentMiddleware(request) {\n      if (userAgentValue.trim().length === 0) {\n        const result = await next(request);\n        return result;\n      } else {\n        const headerName = userAgentHeader.toLowerCase();\n        request.headers[headerName] = request.headers[headerName] ? \"\".concat(request.headers[headerName], \" \").concat(userAgentValue) : userAgentValue;\n        const response = await next(request);\n        return response;\n      }\n    };\n  };\n};\nexport { userAgentMiddleware };","map":{"version":3,"names":["userAgentMiddleware","_ref","userAgentHeader","userAgentValue","next","request","trim","length","result","headerName","toLowerCase","headers","concat","response"],"sources":["/Users/sarimyun/react-native-app/room821_homepage/room821_homepage/node_modules/@aws-amplify/core/src/clients/middleware/userAgent/middleware.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nexport const userAgentMiddleware = ({ userAgentHeader = 'x-amz-user-agent', userAgentValue = '', }) => next => {\n    return async function userAgentMiddleware(request) {\n        if (userAgentValue.trim().length === 0) {\n            const result = await next(request);\n            return result;\n        }\n        else {\n            const headerName = userAgentHeader.toLowerCase();\n            request.headers[headerName] = request.headers[headerName]\n                ? `${request.headers[headerName]} ${userAgentValue}`\n                : userAgentValue;\n            const response = await next(request);\n            return response;\n        }\n    };\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,mBAAmB,GAAGC,IAAA;EAAA,IAAC;IAAEC,eAAe,GAAG,kBAAkB;IAAEC,cAAc,GAAG;EAAE,CAAG,GAAAF,IAAA;EAAA,OAAKG,IAAI,IAAI;IAC3G,OAAO,eAAeJ,mBAAmBA,CAACK,OAAO,EAAE;MAC/C,IAAIF,cAAc,CAACG,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;QACpC,MAAMC,MAAM,GAAG,MAAMJ,IAAI,CAACC,OAAO,CAAC;QAClC,OAAOG,MAAM;MACzB,CAAS,MACI;QACD,MAAMC,UAAU,GAAGP,eAAe,CAACQ,WAAW,EAAE;QAChDL,OAAO,CAACM,OAAO,CAACF,UAAU,CAAC,GAAGJ,OAAO,CAACM,OAAO,CAACF,UAAU,CAAC,MAAAG,MAAA,CAChDP,OAAO,CAACM,OAAO,CAACF,UAAU,CAAC,OAAAG,MAAA,CAAIT,cAAc,IAChDA,cAAc;QACpB,MAAMU,QAAQ,GAAG,MAAMT,IAAI,CAACC,OAAO,CAAC;QACpC,OAAOQ,QAAQ;MAC3B;IACA,CAAK;EACL;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}