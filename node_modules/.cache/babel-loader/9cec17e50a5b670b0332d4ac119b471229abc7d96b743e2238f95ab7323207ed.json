{"ast":null,"code":"import { defaultStorage } from '@aws-amplify/core';\nimport { refreshAuthTokens } from '../utils/refreshAuthTokens.mjs';\nimport { DefaultTokenStore } from './TokenStore.mjs';\nimport { TokenOrchestrator } from './TokenOrchestrator.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass CognitoUserPoolsTokenProviderClass {\n  constructor() {\n    this.authTokenStore = new DefaultTokenStore();\n    this.authTokenStore.setKeyValueStorage(defaultStorage);\n    this.tokenOrchestrator = new TokenOrchestrator();\n    this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore);\n    this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens);\n  }\n  getTokens() {\n    let {\n      forceRefresh\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      forceRefresh: false\n    };\n    return this.tokenOrchestrator.getTokens({\n      forceRefresh\n    });\n  }\n  setKeyValueStorage(keyValueStorage) {\n    this.authTokenStore.setKeyValueStorage(keyValueStorage);\n  }\n  setWaitForInflightOAuth(waitForInflightOAuth) {\n    this.tokenOrchestrator.setWaitForInflightOAuth(waitForInflightOAuth);\n  }\n  setAuthConfig(authConfig) {\n    this.authTokenStore.setAuthConfig(authConfig);\n    this.tokenOrchestrator.setAuthConfig(authConfig);\n  }\n}\nconst cognitoUserPoolsTokenProvider = new CognitoUserPoolsTokenProviderClass();\nconst tokenOrchestrator = cognitoUserPoolsTokenProvider.tokenOrchestrator;\nexport { DefaultTokenStore, TokenOrchestrator, cognitoUserPoolsTokenProvider, refreshAuthTokens, tokenOrchestrator };","map":{"version":3,"names":["CognitoUserPoolsTokenProviderClass","constructor","authTokenStore","DefaultTokenStore","setKeyValueStorage","defaultStorage","tokenOrchestrator","TokenOrchestrator","setAuthTokenStore","setTokenRefresher","refreshAuthTokens","getTokens","forceRefresh","arguments","length","undefined","keyValueStorage","setWaitForInflightOAuth","waitForInflightOAuth","setAuthConfig","authConfig","cognitoUserPoolsTokenProvider"],"sources":["/Users/sarimyun/react-native-app/room821_homepage/room821_homepage/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/index.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultStorage, } from '@aws-amplify/core';\nimport { refreshAuthTokens } from '../utils/refreshAuthTokens';\nimport { DefaultTokenStore } from './TokenStore';\nimport { TokenOrchestrator } from './TokenOrchestrator';\nclass CognitoUserPoolsTokenProviderClass {\n    constructor() {\n        this.authTokenStore = new DefaultTokenStore();\n        this.authTokenStore.setKeyValueStorage(defaultStorage);\n        this.tokenOrchestrator = new TokenOrchestrator();\n        this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore);\n        this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens);\n    }\n    getTokens({ forceRefresh } = { forceRefresh: false }) {\n        return this.tokenOrchestrator.getTokens({ forceRefresh });\n    }\n    setKeyValueStorage(keyValueStorage) {\n        this.authTokenStore.setKeyValueStorage(keyValueStorage);\n    }\n    setWaitForInflightOAuth(waitForInflightOAuth) {\n        this.tokenOrchestrator.setWaitForInflightOAuth(waitForInflightOAuth);\n    }\n    setAuthConfig(authConfig) {\n        this.authTokenStore.setAuthConfig(authConfig);\n        this.tokenOrchestrator.setAuthConfig(authConfig);\n    }\n}\nexport const cognitoUserPoolsTokenProvider = new CognitoUserPoolsTokenProviderClass();\nexport const tokenOrchestrator = cognitoUserPoolsTokenProvider.tokenOrchestrator;\nexport { DefaultTokenStore, TokenOrchestrator, refreshAuthTokens, };\n"],"mappings":";;;;;AAAA;AACA;AAKA,MAAMA,kCAAkC,CAAC;EACrCC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,cAAc,GAAG,IAAIC,iBAAiB,EAAE;IAC7C,IAAI,CAACD,cAAc,CAACE,kBAAkB,CAACC,cAAc,CAAC;IACtD,IAAI,CAACC,iBAAiB,GAAG,IAAIC,iBAAiB,EAAE;IAChD,IAAI,CAACD,iBAAiB,CAACE,iBAAiB,CAAC,IAAI,CAACN,cAAc,CAAC;IAC7D,IAAI,CAACI,iBAAiB,CAACG,iBAAiB,CAACC,iBAAiB,CAAC;EACnE;EACIC,SAASA,CAAA,EAA6C;IAAA,IAA5C;MAAEC;IAAY,CAAE,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;MAAED,YAAY,EAAE;IAAK,CAAE;IAChD,OAAO,IAAI,CAACN,iBAAiB,CAACK,SAAS,CAAC;MAAEC;IAAY,CAAE,CAAC;EACjE;EACIR,kBAAkBA,CAACY,eAAe,EAAE;IAChC,IAAI,CAACd,cAAc,CAACE,kBAAkB,CAACY,eAAe,CAAC;EAC/D;EACIC,uBAAuBA,CAACC,oBAAoB,EAAE;IAC1C,IAAI,CAACZ,iBAAiB,CAACW,uBAAuB,CAACC,oBAAoB,CAAC;EAC5E;EACIC,aAAaA,CAACC,UAAU,EAAE;IACtB,IAAI,CAAClB,cAAc,CAACiB,aAAa,CAACC,UAAU,CAAC;IAC7C,IAAI,CAACd,iBAAiB,CAACa,aAAa,CAACC,UAAU,CAAC;EACxD;AACA;AACY,MAACC,6BAA6B,GAAG,IAAIrB,kCAAkC;AACvE,MAACM,iBAAiB,GAAGe,6BAA6B,CAACf,iBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}