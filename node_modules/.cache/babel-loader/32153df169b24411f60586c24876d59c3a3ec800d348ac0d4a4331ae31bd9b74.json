{"ast":null,"code":"import { ConsoleLogger } from '../Logger/ConsoleLogger.mjs';\nimport '../utils/getClientInfo/getClientInfo.mjs';\nimport { isBrowser } from '../utils/isBrowser.mjs';\nimport '../utils/retry/retry.mjs';\nimport { AmplifyError } from '../errors/AmplifyError.mjs';\nimport '../types/errors.mjs';\nimport '../errors/errorHelpers.mjs';\nimport { assert, ServiceWorkerErrorCode } from './errorHelpers.mjs';\nimport 'uuid';\nimport '@aws-crypto/sha256-js';\nimport '@smithy/util-hex-encoding';\nimport '../awsClients/pinpoint/base.mjs';\nimport '../awsClients/pinpoint/errorHelpers.mjs';\nimport '../Cache/index.mjs';\nimport { record } from '../providers/pinpoint/apis/record.mjs';\nimport '../providers/pinpoint/utils/PinpointEventBuffer.mjs';\nimport '../providers/pinpoint/types/errors.mjs';\nimport { Amplify } from '../singleton/Amplify.mjs';\nimport { fetchAuthSession } from '../singleton/apis/fetchAuthSession.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Provides a means to registering a service worker in the browser\n * and communicating with it via postMessage events.\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/\n *\n * postMessage events are currently not supported in all browsers. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n *\n * At the minmum this class will register the service worker and listen\n * and attempt to dispatch messages on state change and record analytics\n * events based on the service worker lifecycle.\n */\nclass ServiceWorkerClass {\n  constructor() {\n    // The AWS Amplify logger\n    this._logger = new ConsoleLogger('ServiceWorker');\n  }\n  /**\n   * Get the currently active service worker\n   */\n  get serviceWorker() {\n    assert(this._serviceWorker !== undefined, ServiceWorkerErrorCode.UndefinedInstance);\n    return this._serviceWorker;\n  }\n  /**\n   * Register the service-worker.js file in the browser\n   * Make sure the service-worker.js is part of the build\n   * for example with Angular, modify the angular-cli.json file\n   * and add to \"assets\" array \"service-worker.js\"\n   * @param {string} - (optional) Service worker file. Defaults to \"/service-worker.js\"\n   * @param {string} - (optional) The service worker scope. Defaults to \"/\"\n   *  - API Doc: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\n   * @returns {Promise}\n   *\t- resolve(ServiceWorkerRegistration)\n   *\t- reject(Error)\n   **/\n  register() {\n    let filePath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/service-worker.js';\n    let scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n    this._logger.debug(\"registering \".concat(filePath));\n    this._logger.debug(\"registering service worker with scope \".concat(scope));\n    return new Promise((resolve, reject) => {\n      if (navigator && 'serviceWorker' in navigator) {\n        navigator.serviceWorker.register(filePath, {\n          scope\n        }).then(registration => {\n          if (registration.installing) {\n            this._serviceWorker = registration.installing;\n          } else if (registration.waiting) {\n            this._serviceWorker = registration.waiting;\n          } else if (registration.active) {\n            this._serviceWorker = registration.active;\n          }\n          this._registration = registration;\n          this._setupListeners();\n          this._logger.debug(\"Service Worker Registration Success: \".concat(registration));\n          return resolve(registration);\n        }).catch(error => {\n          this._logger.debug(\"Service Worker Registration Failed \".concat(error));\n          return reject(new AmplifyError({\n            name: ServiceWorkerErrorCode.Unavailable,\n            message: 'Service Worker not available',\n            underlyingError: error\n          }));\n        });\n      } else {\n        return reject(new AmplifyError({\n          name: ServiceWorkerErrorCode.Unavailable,\n          message: 'Service Worker not available'\n        }));\n      }\n    });\n  }\n  /**\n   * Enable web push notifications. If not subscribed, a new subscription will\n   * be created and registered.\n   * \tTest Push Server: https://web-push-codelab.glitch.me/\n   * \tPush Server Libraries: https://github.com/web-push-libs/\n   * \tAPI Doc: https://developers.google.com/web/fundamentals/codelabs/push-notifications/\n   * @param publicKey\n   * @returns {Promise}\n   * \t- resolve(PushSubscription)\n   *  - reject(Error)\n   */\n  enablePush(publicKey) {\n    assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n    this._publicKey = publicKey;\n    return new Promise((resolve, reject) => {\n      if (isBrowser()) {\n        assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n        this._registration.pushManager.getSubscription().then(subscription => {\n          if (subscription) {\n            this._subscription = subscription;\n            this._logger.debug(\"User is subscribed to push: \".concat(JSON.stringify(subscription)));\n            resolve(subscription);\n          } else {\n            this._logger.debug(\"User is NOT subscribed to push\");\n            return this._registration.pushManager.subscribe({\n              userVisibleOnly: true,\n              applicationServerKey: this._urlB64ToUint8Array(publicKey)\n            }).then(subscription => {\n              this._subscription = subscription;\n              this._logger.debug(\"User subscribed: \".concat(JSON.stringify(subscription)));\n              resolve(subscription);\n            }).catch(error => {\n              this._logger.error(error);\n            });\n          }\n        });\n      } else {\n        return reject(new AmplifyError({\n          name: ServiceWorkerErrorCode.Unavailable,\n          message: 'Service Worker not available'\n        }));\n      }\n    });\n  }\n  /**\n   * Convert a base64 encoded string to a Uint8 array for the push server key\n   * @param base64String\n   */\n  _urlB64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n  /**\n   * Send a message to the service worker. The service worker needs\n   * to implement `self.addEventListener('message') to handle the\n   * message. This ***currently*** does not work in Safari or IE.\n   * @param {object | string} - An arbitrary JSON object or string message to send to the service worker\n   *\t- see: https://developer.mozilla.org/en-US/docs/Web/API/Transferable\n   * @returns {Promise}\n   **/\n  send(message) {\n    if (this._serviceWorker) {\n      this._serviceWorker.postMessage(typeof message === 'object' ? JSON.stringify(message) : message);\n    }\n  }\n  /**\n   * Listen for service worker state change and message events\n   * https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state\n   **/\n  _setupListeners() {\n    this.serviceWorker.addEventListener('statechange', async event => {\n      var _Amplify$getConfig$An, _Amplify$getConfig$An2;\n      const currentState = this.serviceWorker.state;\n      this._logger.debug(\"ServiceWorker statechange: \".concat(currentState));\n      const {\n        appId,\n        region,\n        bufferSize,\n        flushInterval,\n        flushSize,\n        resendLimit\n      } = (_Amplify$getConfig$An = (_Amplify$getConfig$An2 = Amplify.getConfig().Analytics) === null || _Amplify$getConfig$An2 === void 0 ? void 0 : _Amplify$getConfig$An2.Pinpoint) !== null && _Amplify$getConfig$An !== void 0 ? _Amplify$getConfig$An : {};\n      const {\n        credentials\n      } = await fetchAuthSession();\n      if (appId && region && credentials) {\n        // Pinpoint is configured, record an event\n        record({\n          appId,\n          region,\n          category: 'Core',\n          credentials,\n          bufferSize,\n          flushInterval,\n          flushSize,\n          resendLimit,\n          event: {\n            name: 'ServiceWorker',\n            attributes: {\n              state: currentState\n            }\n          }\n        });\n      }\n    });\n    this.serviceWorker.addEventListener('message', event => {\n      this._logger.debug(\"ServiceWorker message event: \".concat(event));\n    });\n  }\n}\nexport { ServiceWorkerClass };","map":{"version":3,"names":["ServiceWorkerClass","constructor","_logger","ConsoleLogger","serviceWorker","assert","_serviceWorker","undefined","ServiceWorkerErrorCode","UndefinedInstance","register","filePath","arguments","length","scope","debug","concat","Promise","resolve","reject","navigator","then","registration","installing","waiting","active","_registration","_setupListeners","catch","error","AmplifyError","name","Unavailable","message","underlyingError","enablePush","publicKey","UndefinedRegistration","_publicKey","isBrowser","pushManager","getSubscription","subscription","_subscription","JSON","stringify","subscribe","userVisibleOnly","applicationServerKey","_urlB64ToUint8Array","base64String","padding","repeat","base64","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","send","postMessage","addEventListener","event","_Amplify$getConfig$An","_Amplify$getConfig$An2","currentState","state","appId","region","bufferSize","flushInterval","flushSize","resendLimit","Amplify","getConfig","Analytics","Pinpoint","credentials","fetchAuthSession","record","category","attributes"],"sources":["/Users/sarimyun/react-native-app/room821_homepage/room821_homepage/node_modules/@aws-amplify/core/src/ServiceWorker/ServiceWorker.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from '../Logger';\nimport { isBrowser } from '../utils';\nimport { AmplifyError } from '../errors';\nimport { assert, ServiceWorkerErrorCode } from './errorHelpers';\nimport { record } from '../providers/pinpoint';\nimport { Amplify, fetchAuthSession } from '../singleton';\n/**\n * Provides a means to registering a service worker in the browser\n * and communicating with it via postMessage events.\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/\n *\n * postMessage events are currently not supported in all browsers. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n *\n * At the minmum this class will register the service worker and listen\n * and attempt to dispatch messages on state change and record analytics\n * events based on the service worker lifecycle.\n */\nexport class ServiceWorkerClass {\n    constructor() {\n        // The AWS Amplify logger\n        this._logger = new ConsoleLogger('ServiceWorker');\n    }\n    /**\n     * Get the currently active service worker\n     */\n    get serviceWorker() {\n        assert(this._serviceWorker !== undefined, ServiceWorkerErrorCode.UndefinedInstance);\n        return this._serviceWorker;\n    }\n    /**\n     * Register the service-worker.js file in the browser\n     * Make sure the service-worker.js is part of the build\n     * for example with Angular, modify the angular-cli.json file\n     * and add to \"assets\" array \"service-worker.js\"\n     * @param {string} - (optional) Service worker file. Defaults to \"/service-worker.js\"\n     * @param {string} - (optional) The service worker scope. Defaults to \"/\"\n     *  - API Doc: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\n     * @returns {Promise}\n     *\t- resolve(ServiceWorkerRegistration)\n     *\t- reject(Error)\n     **/\n    register(filePath = '/service-worker.js', scope = '/') {\n        this._logger.debug(`registering ${filePath}`);\n        this._logger.debug(`registering service worker with scope ${scope}`);\n        return new Promise((resolve, reject) => {\n            if (navigator && 'serviceWorker' in navigator) {\n                navigator.serviceWorker\n                    .register(filePath, {\n                    scope,\n                })\n                    .then(registration => {\n                    if (registration.installing) {\n                        this._serviceWorker = registration.installing;\n                    }\n                    else if (registration.waiting) {\n                        this._serviceWorker = registration.waiting;\n                    }\n                    else if (registration.active) {\n                        this._serviceWorker = registration.active;\n                    }\n                    this._registration = registration;\n                    this._setupListeners();\n                    this._logger.debug(`Service Worker Registration Success: ${registration}`);\n                    return resolve(registration);\n                })\n                    .catch(error => {\n                    this._logger.debug(`Service Worker Registration Failed ${error}`);\n                    return reject(new AmplifyError({\n                        name: ServiceWorkerErrorCode.Unavailable,\n                        message: 'Service Worker not available',\n                        underlyingError: error,\n                    }));\n                });\n            }\n            else {\n                return reject(new AmplifyError({\n                    name: ServiceWorkerErrorCode.Unavailable,\n                    message: 'Service Worker not available',\n                }));\n            }\n        });\n    }\n    /**\n     * Enable web push notifications. If not subscribed, a new subscription will\n     * be created and registered.\n     * \tTest Push Server: https://web-push-codelab.glitch.me/\n     * \tPush Server Libraries: https://github.com/web-push-libs/\n     * \tAPI Doc: https://developers.google.com/web/fundamentals/codelabs/push-notifications/\n     * @param publicKey\n     * @returns {Promise}\n     * \t- resolve(PushSubscription)\n     *  - reject(Error)\n     */\n    enablePush(publicKey) {\n        assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n        this._publicKey = publicKey;\n        return new Promise((resolve, reject) => {\n            if (isBrowser()) {\n                assert(this._registration !== undefined, ServiceWorkerErrorCode.UndefinedRegistration);\n                this._registration.pushManager.getSubscription().then(subscription => {\n                    if (subscription) {\n                        this._subscription = subscription;\n                        this._logger.debug(`User is subscribed to push: ${JSON.stringify(subscription)}`);\n                        resolve(subscription);\n                    }\n                    else {\n                        this._logger.debug(`User is NOT subscribed to push`);\n                        return this._registration.pushManager.subscribe({\n                            userVisibleOnly: true,\n                            applicationServerKey: this._urlB64ToUint8Array(publicKey),\n                        })\n                            .then(subscription => {\n                            this._subscription = subscription;\n                            this._logger.debug(`User subscribed: ${JSON.stringify(subscription)}`);\n                            resolve(subscription);\n                        })\n                            .catch(error => {\n                            this._logger.error(error);\n                        });\n                    }\n                });\n            }\n            else {\n                return reject(new AmplifyError({\n                    name: ServiceWorkerErrorCode.Unavailable,\n                    message: 'Service Worker not available',\n                }));\n            }\n        });\n    }\n    /**\n     * Convert a base64 encoded string to a Uint8 array for the push server key\n     * @param base64String\n     */\n    _urlB64ToUint8Array(base64String) {\n        const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n        const base64 = (base64String + padding)\n            .replace(/\\-/g, '+')\n            .replace(/_/g, '/');\n        const rawData = window.atob(base64);\n        const outputArray = new Uint8Array(rawData.length);\n        for (let i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n    /**\n     * Send a message to the service worker. The service worker needs\n     * to implement `self.addEventListener('message') to handle the\n     * message. This ***currently*** does not work in Safari or IE.\n     * @param {object | string} - An arbitrary JSON object or string message to send to the service worker\n     *\t- see: https://developer.mozilla.org/en-US/docs/Web/API/Transferable\n     * @returns {Promise}\n     **/\n    send(message) {\n        if (this._serviceWorker) {\n            this._serviceWorker.postMessage(typeof message === 'object' ? JSON.stringify(message) : message);\n        }\n    }\n    /**\n     * Listen for service worker state change and message events\n     * https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state\n     **/\n    _setupListeners() {\n        this.serviceWorker.addEventListener('statechange', async (event) => {\n            const currentState = this.serviceWorker.state;\n            this._logger.debug(`ServiceWorker statechange: ${currentState}`);\n            const { appId, region, bufferSize, flushInterval, flushSize, resendLimit, } = Amplify.getConfig().Analytics?.Pinpoint ?? {};\n            const { credentials } = await fetchAuthSession();\n            if (appId && region && credentials) {\n                // Pinpoint is configured, record an event\n                record({\n                    appId,\n                    region,\n                    category: 'Core',\n                    credentials,\n                    bufferSize,\n                    flushInterval,\n                    flushSize,\n                    resendLimit,\n                    event: {\n                        name: 'ServiceWorker',\n                        attributes: {\n                            state: currentState,\n                        },\n                    },\n                });\n            }\n        });\n        this.serviceWorker.addEventListener('message', event => {\n            this._logger.debug(`ServiceWorker message event: ${event}`);\n        });\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}